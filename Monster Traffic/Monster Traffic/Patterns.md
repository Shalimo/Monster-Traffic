# Фабричный метод 

Функции реализующие паттерн: 

void Start()
    {
        StartCoroutine(spawn());
    }

    IEnumerator spawn()
    {
        while(true)
        {
            Instantiate(
                cars[Random.Range(0, cars.Length)],
                new Vector2(positions[Random.Range(0, 4)], 6f),
                Quaternion.Euler(new Vector2(90, 180))
                );
            yield return new WaitForSeconds(0.6f);
        }
    }  
    
Паттерн фабрика используется для спавна различных машин. Сначала мы создаем Корутины — простой и удобный способ запускать функции, которые должны работать параллельно в течение некоторого времени. Корутины представляют собой простые итераторы, возвращающие IEnumerator и использующие ключевое слово yield. Корутины регистрируются и выполняются до первого yield с помощью метода StartCoroutine. Спавн машин реализован классе c помощью функции instatiate().
Данный паттерн подразумевает, что мы создаем несколько GameObject-ov(в моем случае это машины) не в разных классах, а в одном.

# Object pool

Есть пул объектов в игре, например вражеские машины или автомобиль самого игрока. Они хранятся в пуле объектов. Если объектов в данном наборе нет, то мы заносим их в него. Чтобы работать с объектами, нужно обращаться к пулу с помощью типа GameObject.

Пример обращения к набору машин в классе для реализации спавна врагов:

public GameObject[] cars;
